## 8. Harvesting Energy
  - [Acquiring Objects](#acquiring-objects)
  - [Harvest Logic](#harvest-logic)
  - [Final Code](#final-code)

This tutorial teaches you how to harvest energy from Source.

In addition to getting energy from `box`, you can also mine energy from `Source`.

To mine `Source`, a Creep with `WORK` part is necessary.

### Acquiring Objects

This tutorial provides a Spawn, a Creep with WORK part, and a Source. Requires us to harvest 1000 energy and store it in Spawn.

```python
from builtin import *

SPAWN = get.spawn()
CREEP = get.creep()
SOURCE = get.source()

```

### Harvest Logic

`harvest` is an instance method of `Creep` class, constructed as:

| Parameter Name | Type | Optional | Default Value | Description |
|-------|------|----------|--------|-------------|
| `target` | `Source` | No | - | Harvest target (resource point) |
| `move` | `MotionOptions` \| `bool` \| `None` | Yes | `None` | Passing `False` (`None` equivalent to `False`) disables movement. Passing `True` or `options` automatically approaches target when distance insufficient |

**Return Value**:
- `OK` (0): Operation successful
- `ERR_NOT_OWNER` (-1): Not Creep owner
- `ERR_INVALID_ARGS` (-10): Incorrect parameters
- `ERR_NO_BODYPART` (-12): No WORK part
- `ERR_NOT_ENOUGH_RESOURCES` (-6): Insufficient resources
- `ERR_INVALID_TARGET` (-7): Invalid target
- `ERR_NOT_IN_RANGE` (-9): Target not in range

Through Creep's read-only properties `energy:int` and `energyMax:int`, we can bring energy back to Spawn when storage is full.

```python
def step(k: GlobalKnowledge):
    if CREEP.energy < CREEP.energyMax:
        CREEP.harvest(SOURCE)
    else:
        CREEP.deposit(SPAWN)

```

### Final Code
Complete code for harvesting energy and storing in Spawn:

```python
from builtin import *

SPAWN = get.spawn()
CREEP = get.creep()
SOURCE = get.source()


def init(k: GlobalKnowledge):
    pass


def step(k: GlobalKnowledge):
    if CREEP.energy < CREEP.energyMax:
        CREEP.harvest(SOURCE)
    else:
        CREEP.deposit(SPAWN)
```

